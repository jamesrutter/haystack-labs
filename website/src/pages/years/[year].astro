---
import Layout from "@/layouts/layout.astro";
import { getCollection, render } from "astro:content";

export async function getStaticPaths() {
  const years = await getCollection("years");
  return years.map((year) => ({
    params: { year: year.id },
    props: { year },
  }));
}

const { year } = Astro.props;
const { Content } = await render(year);
---

<Layout
  title={`${year.data.title} - Haystack Labs`}
  description={year.data.description || `Information about ${year.data.title}`}
>
  <section class="section">
    <div class="wrapper">
      <header style="margin-bottom: var(--space-3xl);">
        <h1 class="text-inverse">{year.data.title}</h1>
        {
          year.data.description && (
            <p class="description">{year.data.description}</p>
          )
        }
      </header>

      <div class="content">
        <Content />
      </div>
    </div>
  </section>
</Layout>
